<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Demo</title>
    <link rel="stylesheet" href="index.css">
    <style>
        .report
        {
            height: 240px;
            width: 600px;
        }
    </style>
</head>
<body>

<button id="add-1">Add One Item</button>
<button id="add-10">Add many Items</button>
<button id="scroll-up">Scroll up 200 pixels</button>
<button id="scroll-down">Scroll down 200 pixels</button>

<div id="analogger" class="analogger">
</div>

<div>clientHeight, scrollTop, scrollHeight, scrollHeightWhole</div>
<textarea id="report" class="report"></textarea>

<script type="module" src="../generated/demo/browser/demo.mjs"></script>
<script>

    document.addEventListener("DOMContentLoaded", ()=>
    {
        const $report = document.getElementById("report");

        const $view = document.querySelector("#analogger .analogger-view");
        const update = () =>
        {
            const scrollToBottomHeight =  $view.scrollHeight - ($view.clientHeight + $view.scrollTop)
            $report.value = `${$view.clientHeight},${$view.scrollTop},${$view.scrollHeight},${scrollToBottomHeight}`
        }

        document.getElementById("add-1").addEventListener("click", ()=>
        {
            console.log({lid: 1000}, `Adding something to the log`);
            update();
        })

        document.getElementById("add-10").addEventListener("click", ()=>
        {
            for (let i = 0; i < 10; ++i)
            {
                console.log({lid: 1000 + i}, `Adding 10 entries to the log`);
                update();
            }
        })

        document.getElementById("scroll-up").addEventListener("click", ()=>
        {
            $view.scrollBy(0, -200);
            update();
        })

        document.getElementById("scroll-down").addEventListener("click", ()=>
        {
            $view.scrollBy(0, 200);
            update();
        })

        setInterval(update, 500);

    }, false);

</script>

</body>
</html>